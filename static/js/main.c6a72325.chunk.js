(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(27)},21:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(10),i=a(7),r=a(1),l=a(2),o=a(5),c=a(3),s=a(6),u=a(4),h=a(0),m=a.n(h),d=a(12),v=a.n(d),p=a(13),f=(a(21),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).generateGridLayoutStyle=Object(p.memoize_one)(function(e,t,a,n,i,r,l,o){return{display:"grid",height:t,width:e,gridGap:0,gridTemplateColumns:"".concat(a,"px ").concat(n,"px ").concat(i,"px"),gridTemplateRows:"".concat(r,"px ").concat(l,"px ").concat(o,"px")}}),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.width,n=e.height,i=e.leftWidth,r=e.plotWidth,l=e.rightWidth,o=e.topHeight,c=e.plotHeight,s=e.bottomHeight,u=this.generateGridLayoutStyle(a,n,i,r,l,o,c,s);return m.a.createElement("div",{style:u,className:"PlotContainers-positionRelative"},t)}}]),t}(h.Component)),g=function(e){return m.a.createElement("div",{className:"PlotContainers-positionRelative"},e.children?m.a.Children.map(e.children,function(e){return m.a.createElement("div",{className:"PlotContainers-positionAbsolute"},e)}):null)},b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).canvasW=a.props.canvasW,a.canvasH=a.props.canvasH,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.panelHeight,a=e.panelWidth,n=e.label,i={leftPanel:{height:t+"px",width:a+"px",backgroundColor:e.colorString},areaChartLabel:{marginLeft:"15%",lineHeight:t+"px",color:"#373c62",fontWeight:"800",fontFamily:"MuseoSans, Sans"}};return m.a.createElement("div",{className:"area-chart-left-panel",style:i.leftPanel},m.a.createElement("div",{className:"area-chart-label",style:i.areaChartLabel}," ",n," "))}}]),t}(h.PureComponent);function C(e,t,a,n){return(n-t)/((a-t)/e)}var w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).drawCPBChart=function(e){var t;e.canvas.width=e.canvas.width;var n=a.props.dtWindow[0]/1e3,i=a.props.dtWindow[1]/1e3,r=a.canvasH,l=a.props.data,o=a.props.yRange;e.lineWidth=4,e.strokeStyle="rgba(128,128,128,0.7)",l.forEach(function(r){t=C(a.canvasW,n,i,r.time);var l,c,s,u,h=(l=a.canvasH,c=o[0]-5,s=o[1]+5,u=r.value,l-(u-c)/((s-c)/l));e.lineTo(t,h)}),e.stroke();var c=r;t=C(a.canvasW,n,i,l[l.length-1].time),e.lineTo(t,c),t=C(a.canvasW,n,i,l[0].time),e.lineTo(t,c),e.fillStyle="rgba(192,192,192,0.4)",e.fill()},a.canvasW=a.props.width,a.canvasH=a.props.height,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.areaChartCanvas=this.refs.areaChartCanvas,this.areaChartCtx=this.areaChartCanvas.getContext("2d"),this.drawCPBChart(this.areaChartCtx)}},{key:"componentDidUpdate",value:function(){this.drawCPBChart(this.areaChartCtx)}},{key:"render",value:function(){return m.a.createElement("canvas",{className:"area-chart-canvas",ref:"areaChartCanvas",width:this.canvasW,height:this.canvasH})}}]),t}(h.PureComponent),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).toDomYCoord_Linear=function(e,t,a,n){return e-(n-t)/((a-t)/e)},a.drawYAxis=function(e){var t=a.props.yRange;e.canvas.width=e.canvas.width,e.lineWidth=3,e.moveTo(a.canvasW,5),e.lineTo(a.canvasW,a.canvasH-5),e.stroke(),e.font="600 14px MuseoSans, Sans",e.textBaseline="middle",e.fillStyle="#373c62";var n=a.toDomYCoord_Linear(a.canvasH,t[0]-5,t[1]+5,t[0]);e.fillText(t[0],a.canvasW-25,n),n=a.toDomYCoord_Linear(a.canvasH,t[0]-5,t[1]+5,t[1]),e.fillText(t[1],a.canvasW-25,n),e.stroke()},a.canvasW=a.props.canvasW,a.canvasH=a.props.canvasH,a.minY=a.props.minY,a.maxY=a.props.maxY,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.areaChartYAxisCanvas=this.refs.areaChartYAxisCanvas,this.areaChartYAxisCtx=this.areaChartYAxisCanvas.getContext("2d"),this.drawYAxis(this.areaChartYAxisCtx)}},{key:"componentDidUpdate",value:function(){this.minY=this.props.minY,this.maxY=this.props.maxY,this.drawYAxis(this.areaChartYAxisCtx)}},{key:"render",value:function(){return m.a.createElement("canvas",{className:"area-chart-y-axis",ref:"areaChartYAxisCanvas",style:{position:"absolute"},width:this.canvasW,height:this.canvasH})}}]),t}(h.PureComponent),O=a(14),x=a(8),j=a(9),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).ref=m.a.createRef(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=(e.minX,e.maxX,Object(O.a)(e,["width","height","minX","maxX"]));return m.a.createElement("canvas",Object.assign({ref:this.ref,width:t,height:a},n))}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.props,t=e.minX,a=e.maxX,n=e.width,i=a-t;this.draw_memo=this.draw_memo||{validFromDiffX:0,validToDiffX:-1,rangeMinX:0,rangeMaxX:-1};var r=this.draw_memo;if(r.validFromDiffX>i||i>r.validToDiffX||r.rangeMinX>t||a>r.rangeMaxX){r.rangeMinX=t-10*i,r.rangeMaxX=a+10*i;var l=Object(j.generateDateGrids)(t,a,r.rangeMinX,r.rangeMaxX),o=l.grids,c=l.validFromDiffX,s=l.validToDiffX;r.validFromDiffX=c,r.validToDiffX=s,r.grids=o}var u=Math.max(0,Object(x.bisect_right)(r.grids,t)),h=Math.min(r.grids.length-1,Object(x.bisect_left)(r.grids,a)),m=r.grids.slice(u,h+1).map(function(e){return Object(j.toDomXCoord_Linear)(n,t,a,e)}),d=this.ref.current.getContext("2d");d.clearRect(0,0,n,400),d.globalAlpha=.1,this.verticalLinePlot(d,n,400,m)}},{key:"verticalLinePlot",value:function(e,t,a,n){var i=null;e.beginPath();for(var r=0;r<n.length;r++)i=Math.round(n[r]),e.moveTo(i,0),e.lineTo(i,a);e.stroke()}}]),t}(h.PureComponent),E=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).getDaysBetweenDates=function(e,t){var a=new Date(e),n=new Date(t);return a.setHours(12,0,0),n.setHours(12,0,0),Math.round((n-a)/864e5)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"filterDataToDtWindow",value:function(e){var t=this.props.dtWindow[0]/1e3,a=this.props.dtWindow[1]/1e3,n=e,i=new Set,r=[];return e&&t&&(n=n.filter(function(e){return e.time<=a&&e.time>=t&&(i.has(e.time)||(i.add(e.time),r.push(e.time))),e.time<=a&&e.time>=t})),[n,r]}},{key:"render",value:function(){var e=this.props,t=e.dtWindow,a=e.width,n=e.height,i=e.yRange,r=e.data,l=e.label,o=e.colorString,c=e.areaChartBackgroundColor,s=a-200-0,u=n-0-0,h=0,d=0;t&&(h=t[0],d=t[1]);var v={leftPanelGradShadow:{position:"absolute",top:0,left:148,height:n,width:70,opacity:1,backgroundImage:"linear-gradient(to right, black, rgba(255,255,255,0))"},mainPlotWrapDiv:{zIndex:-1,backgroundColor:c}};return m.a.createElement(f,{width:a,height:n,leftWidth:200,plotWidth:s,rightWidth:0,topHeight:0,plotHeight:u,bottomHeight:0},m.a.createElement(g,null),m.a.createElement(g,null),m.a.createElement(g,null),m.a.createElement(g,null,m.a.createElement("div",{style:v.leftPanelGradShadow}),m.a.createElement(b,{label:l,colorString:o,panelWidth:200,panelHeight:n}),m.a.createElement(y,{canvasH:n,canvasW:200,yRange:i})),m.a.createElement("div",{style:v.mainPlotWrapDiv},m.a.createElement(g,null,m.a.createElement(k,{width:s,height:u,minX:h,maxX:d}),m.a.createElement(w,{data:r,yRange:i,width:s,height:u,dtWindow:t}))),m.a.createElement(g,null),m.a.createElement(g,null),m.a.createElement(g,null),m.a.createElement(g,null))}}]),t}(h.PureComponent),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=function(e){e&&e.preventDefault();var t=a.data.value.replace(/(\w+:)|(\w+ :)/g,function(e){return'"'+e.substring(0,e.length-1)+'":'}),n=JSON.parse(t);a.state.data.push(n),a.setState({data:[].concat(Object(i.a)(a.state.data),[n])})},a.state={data:[{time:1509426e3,value:10},{time:1509429600,value:34.5},{time:1509433200,value:34},{time:1509436800,value:33.5},{time:1509440400,value:33},{time:1509444e3,value:32.5},{time:1509447600,value:32},{time:1509451200,value:31.5},{time:1509454800,value:31},{time:1509458400,value:30.5},{time:1509462e3,value:30},{time:1509465600,value:29.5},{time:1509469200,value:29},{time:1509472800,value:28.5},{time:1509476400,value:28},{time:150948e4,value:27.5},{time:1509483600,value:27},{time:1509487200,value:26.5},{time:1509490800,value:26.4},{time:1509494400,value:26.4},{time:1509498e3,value:26.4},{time:1509501600,value:26.5},{time:1509505200,value:26.8},{time:1509508800,value:27},{time:1509512400,value:27.5},{time:1509516e3,value:28},{time:1509519600,value:28.5},{time:1509523200,value:29},{time:1509526800,value:29.5},{time:1509530400,value:30},{time:1509534e3,value:30.5},{time:1509537600,value:31},{time:1509541200,value:31.5},{time:1509544800,value:32},{time:1509548400,value:32.5},{time:1509552e3,value:33},{time:1509555600,value:33.5},{time:1509559200,value:34},{time:1509562800,value:34.5},{time:1509566400,value:35},{time:150957e4,value:35},{time:1509573600,value:35},{time:1509577200,value:35},{time:1509580800,value:35}],dtWindow:[15088148e5,15101172e5],width:1200,height:50,yRange:[18,36],label:"CPB",colorString:"#fffcec",areaChartBackgroundColor:"#fff3e4"},a.handleRemoveBtnCLick=a.handleRemoveBtnCLick.bind(Object(s.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=!0;setInterval(function(){e.simulateDataChange(t),t=!1},100)}},{key:"handleRemoveBtnCLick",value:function(){var e=this.state.data;e=e.slice(0,-1),this.setState(Object(n.a)({},this.state,{data:[{name:"Administered Medications",time:1456293058,type:"Intake",value:1},{name:"Blood Products",time:1456293058,type:"Output",value:28.502415458937197},{name:"Urine Output",time:1456293058,type:"Output",value:28.502415458937197},{name:"Administered Medications",time:1456293058,type:"Intake",value:28.502415458937197},{name:"Continuous Medications",time:1456293058,type:"Intake",value:28.502415458937197},{name:"Administered Medications",time:1456293060,type:"Intake",value:28.502415458937197},{name:"Blood Products",time:1456293060,type:"Output",value:28.502415458937197},{name:"Urine Output",time:1456293060,type:"Output",value:28.502415458937197},{name:"Administered Medications",time:1456293060,type:"Intake",value:28.502415458937197},{name:"Continuous Medications",time:1456293060,type:"Intake",value:28.502415458937197}]}))}},{key:"simulateDataChange",value:function(e){var t,a={time:t=this.state.data[this.state.data.length-1].time+3600,value:Math.floor(20*Math.random())+20},r=this.state.data;(r=r.slice(2)).push(a),this.setState(Object(n.a)({},this.state,{data:[].concat(Object(i.a)(r),[a]),dtWindow:[1e3*this.state.data[0].time,1e3*t-36e5]}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.dtWindow,r=t.width,l=t.height,o=t.yRange,c=t.label,s=t.colorString,u=(t.areaChartBackgroundColor,Object(i.a)(a));return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,"Pass in data in the form: "," { time: 1509534000, value: 35 } "),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{style:{height:"50px",width:"50%",fontSize:"14pt"},placeholder:"data",type:"text",ref:function(t){e.data=t}}),m.a.createElement("br",null),m.a.createElement("button",null,"ADD DATA")),m.a.createElement("button",{onClick:this.handleRemoveBtnCLick},"REMOVE DATA"),m.a.createElement(E,{data:a,dtWindow:n,width:r,height:l,yRange:o,label:c,colorString:s,areaChartBackgroundColor:"white"}),m.a.createElement("div",null,u.reverse().map(function(e,t){return m.a.createElement("div",{key:e.time+t},e.value)})))}}]),t}(h.Component);v.a.render(m.a.createElement(W,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c6a72325.chunk.js.map