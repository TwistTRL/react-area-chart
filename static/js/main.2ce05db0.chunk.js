(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,a){t.exports=a(27)},21:function(t,e,a){},27:function(t,e,a){"use strict";a.r(e);var n=a(10),i=a(9),r=a(1),o=a(2),c=a(5),s=a(3),l=a(6),m=a(4),h=a(0),p=a.n(h),d=a(12),u=a.n(d),v=a(13),f=(a(21),function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(i)))).generateGridLayoutStyle=Object(v.memoize_one)(function(t,e,a,n,i,r,o,c){return{display:"grid",height:e,width:t,gridGap:0,gridTemplateColumns:"".concat(a,"px ").concat(n,"px ").concat(i,"px"),gridTemplateRows:"".concat(r,"px ").concat(o,"px ").concat(c,"px")}}),a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props,e=t.children,a=t.width,n=t.height,i=t.leftWidth,r=t.plotWidth,o=t.rightWidth,c=t.topHeight,s=t.plotHeight,l=t.bottomHeight,m=this.generateGridLayoutStyle(a,n,i,r,o,c,s,l);return p.a.createElement("div",{style:m,className:"PlotContainers-positionRelative"},e)}}]),e}(h.Component)),b=function(t){return p.a.createElement("div",{className:"PlotContainers-positionRelative"},t.children?p.a.Children.map(t.children,function(t){return p.a.createElement("div",{className:"PlotContainers-positionAbsolute"},t)}):null)},g=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(s.a)(e).call(this,t))).canvasW=a.props.canvasW,a.canvasH=a.props.canvasH,a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var t=this.props,e={leftPanel:{height:t.panelHeight+"px",width:t.panelWidth+"px",backgroundColor:"#fffcec"},cpbLabel:{position:"absolute",top:"25%",left:"10%",color:"#373c62",fontWeight:"800"}};return p.a.createElement("div",{className:"cpb-left-panel",style:e.leftPanel},p.a.createElement("div",{className:"cpb-label",style:e.cpbLabel}," CPB "))}}]),e}(h.PureComponent);function w(t,e,a,n){return(n-e)/((a-e)/t)}var C=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(s.a)(e).call(this,t))).drawCPBChart=function(t){var e;t.canvas.width=t.canvas.width;var n=a.props.dtWindow[0]/1e3,i=a.props.dtWindow[1]/1e3,r=a.canvasH,o=a.props.data;t.lineWidth=4,t.strokeStyle="rgba(128,128,128,0.7)",o.forEach(function(r){e=w(a.canvasW,n,i,r.time);var o,c,s,l,m=(o=a.canvasH,c=12,s=43,l=r.temp,o-(l-c)/((s-c)/o));t.lineTo(e,m)}),t.stroke();var c=r;e=w(a.canvasW,n,i,o[o.length-1].time),t.lineTo(e,c),e=w(a.canvasW,n,i,o[0].time),t.lineTo(e,c),t.fillStyle="rgba(192,192,192,0.4)",t.fill()},a.canvasW=a.props.width,a.canvasH=a.props.height,a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.cpbChartCanvas=this.refs.cpbChartCanvas,this.cpbChartCtx=this.cpbChartCanvas.getContext("2d"),this.drawCPBChart(this.cpbChartCtx)}},{key:"componentDidUpdate",value:function(){this.drawCPBChart(this.cpbChartCtx)}},{key:"render",value:function(){return p.a.createElement("canvas",{className:"cpb-chart-canvas",ref:"cpbChartCanvas",width:this.canvasW,height:this.canvasH})}}]),e}(h.PureComponent),y=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(s.a)(e).call(this,t))).toDomYCoord_Linear=function(t,e,a,n){return t-(n-e)/((a-e)/t)},a.drawYAxis=function(t){var e=[36,18];t.canvas.width=t.canvas.width,t.lineWidth=3,t.moveTo(a.canvasW,5),t.lineTo(a.canvasW,a.canvasH-5),t.stroke(),t.font="600 14px MuseoSans",t.textBaseline="middle",t.fillStyle="#373c62";for(var n=0;n<e.length;n++){var i=a.toDomYCoord_Linear(a.canvasH,12,43,e[n]);t.fillText(e[n],a.canvasW-25,i)}t.stroke()},a.canvasW=a.props.canvasW,a.canvasH=a.props.canvasH,a.minY=a.props.minY,a.maxY=a.props.maxY,a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.cpbYAxisCanvas=this.refs.cpbYAxisCanvas,this.cpbYAxisCtx=this.cpbYAxisCanvas.getContext("2d"),this.drawYAxis(this.cpbYAxisCtx)}},{key:"componentDidUpdate",value:function(){this.minY=this.props.minY,this.maxY=this.props.maxY,this.drawYAxis(this.cpbYAxisCtx)}},{key:"render",value:function(){return p.a.createElement("canvas",{className:"cpb-y-axis",ref:"cpbYAxisCanvas",style:{position:"absolute"},width:this.canvasW,height:this.canvasH})}}]),e}(h.PureComponent),O=a(14),x=a(7),j=a(8),D=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(s.a)(e).call(this,t))).ref=p.a.createRef(),a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props,e=t.width,a=t.height,n=(t.minX,t.maxX,Object(O.a)(t,["width","height","minX","maxX"]));return p.a.createElement("canvas",Object.assign({ref:this.ref,width:e,height:a},n))}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var t=this.props,e=t.minX,a=t.maxX,n=t.width,i=a-e;this.draw_memo=this.draw_memo||{validFromDiffX:0,validToDiffX:-1,rangeMinX:0,rangeMaxX:-1};var r=this.draw_memo;if(r.validFromDiffX>i||i>r.validToDiffX||r.rangeMinX>e||a>r.rangeMaxX){r.rangeMinX=e-10*i,r.rangeMaxX=a+10*i;var o=Object(j.generateDateGrids)(e,a,r.rangeMinX,r.rangeMaxX),c=o.grids,s=o.validFromDiffX,l=o.validToDiffX;r.validFromDiffX=s,r.validToDiffX=l,r.grids=c}var m=Math.max(0,Object(x.bisect_right)(r.grids,e)),h=Math.min(r.grids.length-1,Object(x.bisect_left)(r.grids,a)),p=r.grids.slice(m,h+1).map(function(t){return Object(j.toDomXCoord_Linear)(n,e,a,t)}),d=this.ref.current.getContext("2d");d.clearRect(0,0,n,400),d.globalAlpha=.1,this.verticalLinePlot(d,n,400,p)}},{key:"verticalLinePlot",value:function(t,e,a,n){var i=null;t.beginPath();for(var r=0;r<n.length;r++)i=Math.round(n[r]),t.moveTo(i,0),t.lineTo(i,a);t.stroke()}}]),e}(h.PureComponent),E=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(i)))).getDaysBetweenDates=function(t,e){var a=new Date(t),n=new Date(e);return a.setHours(12,0,0),n.setHours(12,0,0),Math.round((n-a)/864e5)},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"filterDataToDtWindow",value:function(t){var e=this.props.dtWindow[0]/1e3,a=this.props.dtWindow[1]/1e3,n=t,i=new Set,r=[];return t&&e&&(n=n.filter(function(t){return t.time<=a&&t.time>=e&&(i.has(t.time)||(i.add(t.time),r.push(t.time))),t.time<=a&&t.time>=e})),[n,r]}},{key:"render",value:function(){var t=this.props,e=t.dtWindow,a=t.width,n=t.height,i=t.data,r=a-200-0,o=n-0-0,c=0,s=0;e&&(c=e[0],s=e[1]);var l={leftPanelGradShadow:{position:"absolute",top:0,left:148,height:n,width:70,opacity:1,backgroundImage:"linear-gradient(to right, black, rgba(255,255,255,0))"},mainPlotWrapDiv:{zIndex:-1}};return p.a.createElement(f,{width:a,height:n,leftWidth:200,plotWidth:r,rightWidth:0,topHeight:0,plotHeight:o,bottomHeight:0},p.a.createElement(b,null),p.a.createElement(b,null),p.a.createElement(b,null),p.a.createElement(b,null,p.a.createElement("div",{style:l.leftPanelGradShadow}),p.a.createElement(g,{panelWidth:200,panelHeight:50}),p.a.createElement(y,{canvasH:50,canvasW:200})),p.a.createElement("div",{style:l.mainPlotWrapDiv},p.a.createElement(b,null,p.a.createElement(D,{width:r,height:o,minX:c,maxX:s}),p.a.createElement(C,{data:i,width:r,height:o,dtWindow:e}))),p.a.createElement(b,null),p.a.createElement(b,null),p.a.createElement(b,null),p.a.createElement(b,null))}}]),e}(h.PureComponent),k=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(c.a)(this,Object(s.a)(e).call(this,t))).handleSubmit=function(t){t&&t.preventDefault();var e=a.data.value.replace(/(\w+:)|(\w+ :)/g,function(t){return'"'+t.substring(0,t.length-1)+'":'}),n=JSON.parse(e);a.state.data.push(n),a.setState({data:[].concat(Object(i.a)(a.state.data),[n])})},a.dataTypeToColorDict={MEDS:"#C2EEF8",FLUSHES:"#5DD2EF",TPN:"#84A5D5",FEEDS:"#A3DBDC",lol434ra:"#C13BDA",xbo4334x:"#613BFA"},a.state={data:[{time:1509426e3,temp:35},{time:1509429600,temp:34.5},{time:1509433200,temp:34},{time:1509436800,temp:33.5},{time:1509440400,temp:33},{time:1509444e3,temp:32.5},{time:1509447600,temp:32},{time:1509451200,temp:31.5},{time:1509454800,temp:31},{time:1509458400,temp:30.5},{time:1509462e3,temp:30},{time:1509465600,temp:29.5},{time:1509469200,temp:29},{time:1509472800,temp:28.5},{time:1509476400,temp:28},{time:150948e4,temp:27.5},{time:1509483600,temp:27},{time:1509487200,temp:26.5},{time:1509490800,temp:26.4},{time:1509494400,temp:26.4},{time:1509498e3,temp:26.4},{time:1509501600,temp:26.5},{time:1509505200,temp:26.8},{time:1509508800,temp:27},{time:1509512400,temp:27.5},{time:1509516e3,temp:28},{time:1509519600,temp:28.5},{time:1509523200,temp:29},{time:1509526800,temp:29.5},{time:1509530400,temp:30},{time:1509534e3,temp:30.5},{time:1509537600,temp:31},{time:1509541200,temp:31.5},{time:1509544800,temp:32},{time:1509548400,temp:32.5},{time:1509552e3,temp:33},{time:1509555600,temp:33.5},{time:1509559200,temp:34},{time:1509562800,temp:34.5},{time:1509566400,temp:35},{time:150957e4,temp:35},{time:1509573600,temp:35},{time:1509577200,temp:35},{time:1509580800,temp:35}],dtWindow:[15088148e5,15101172e5],width:1200,height:50},a.handleRemoveBtnCLick=a.handleRemoveBtnCLick.bind(Object(l.a)(a)),a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=!0;setInterval(function(){t.simulateDataChange(e),e=!1},1e3)}},{key:"handleRemoveBtnCLick",value:function(){var t=this.state.data;t=t.slice(0,-1),this.setState(Object(n.a)({},this.state,{data:[{name:"Administered Medications",time:1456293058,type:"Intake",value:1},{name:"Blood Products",time:1456293058,type:"Output",value:28.502415458937197},{name:"Urine Output",time:1456293058,type:"Output",value:28.502415458937197},{name:"Administered Medications",time:1456293058,type:"Intake",value:28.502415458937197},{name:"Continuous Medications",time:1456293058,type:"Intake",value:28.502415458937197},{name:"Administered Medications",time:1456293060,type:"Intake",value:28.502415458937197},{name:"Blood Products",time:1456293060,type:"Output",value:28.502415458937197},{name:"Urine Output",time:1456293060,type:"Output",value:28.502415458937197},{name:"Administered Medications",time:1456293060,type:"Intake",value:28.502415458937197},{name:"Continuous Medications",time:1456293060,type:"Intake",value:28.502415458937197}]}))}},{key:"simulateDataChange",value:function(t){var e,a={time:e=this.state.data[this.state.data.length-1].time+3600,temp:Math.floor(20*Math.random())+20},r=this.state.data;(r=r.slice(2)).push(a),this.setState(Object(n.a)({},this.state,{data:[].concat(Object(i.a)(r),[a]),dtWindow:[1e3*this.state.data[0].time,1e3*e-36e5]}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,n=e.dtWindow,i=e.width,r=e.height;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",null,"Pass in data in the form: ",' { value: 1, type: "MEDS" } '),p.a.createElement("form",{onSubmit:this.handleSubmit},p.a.createElement("input",{style:{height:"50px",width:"50%",fontSize:"14pt"},placeholder:"data",type:"text",ref:function(e){t.data=e}}),p.a.createElement("button",null,"ADD DATA")),p.a.createElement("button",{onClick:this.handleRemoveBtnCLick},"REMOVE DATA"),p.a.createElement(E,{data:a,dtWindow:n,width:i,height:r}))}}]),e}(h.Component);u.a.render(p.a.createElement(k,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2ce05db0.chunk.js.map